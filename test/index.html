<html>
<head>

    <script src="../dist/browser/ClusterWS.js"></script>
    <script>
        var webSocket = new ClusterWS({
            url: 'localhost',
            port:80,
            autoReconnect: true,
            reconnectionInterval: 1000,
            // reconnectionAttempts: 5
        });

        webSocket.on('connect', function(){
            console.log('Socket connected');
            webSocket.send('hello', "i am hello");

            webSocket.subscribe('food').watch(function(data){
                console.log(data);
            });

            var channel = webSocket.subscribe('home').watch(function(data){
                console.log(data);
            });

            channel.publish('I am here');
        });

        webSocket.on('hello', function(data){
            console.log(data);
        });

        webSocket.on('disconnect', function(data){
            console.log(data);
        });
    </script>
</head>
</html>